<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>HierarchicalDataSource component in Kendo UI framework</title>
        <link rel="shortcut icon" href="/favicon.ico"/>
        <meta name="description" content="See how to represent hierarchical data using HierarchicalDataSource component, an extension of Kendo UI DataSource.">
        <link href="/assets/css/kendo.common.min.css" rel="stylesheet" />
        <link href="/assets/css/styles.css" rel="stylesheet" />
        <link href="/assets/css/theme.css" rel="stylesheet" />
        <script src="/assets/js/jquery-1.10.2.js"></script>
        <script src="/assets/js/kendo.web.min.js"></script>
        <script src="/assets/js/prettify.js"></script>
        <script src="/assets/js/app.js"></script>
        
    </head>
    <body>

        <header id="page-header">
            <div id="logo-bar">
    <a href="/">
        <img alt="Kendo UI logo" class="logo" src="/assets/images/logo.png">
    </a>
</div>

        </header>

        <div id="page-top">
    <ul id="page-tabs">
        <li><a href="/">Home</a></li>
        
        <li><a href="/api/introduction">API Reference</a></li>
        
        
        <li class="active">Getting Started</li>
        
        
        <li><a href="/howto/add-charts-and-graphs-to-an-application">How Do I?</a></li>
        
        
        <li><a href="/tutorials/inheritance-with-kendoui">Tutorials</a></li>
        
    </ul>
    <div id="page-search">
          
    </div>
</div>
<div id="page-inner-content">
    <div id="page-nav">
        <div id="page-tree"></div>
        <script>
        $("#page-tree").kendoTreeView({
            dataSource: {
                transport: {
                    read: {
                        url: "/getting-started.json",
                        dataType: "json"
                    }
                },
                schema: {
                    model: {
                        id: "path",
                        children: "items",
                        hasChildren: "items"
                    }
                }
            },
            select: preventParentSelection,
            template: navigationTemplate("/"),
            dataBound: expandNavigation("getting-started/framework/hierarchicaldatasource/overview.html")
        });
        </script>
    </div>

    

    <div id="page-article">
        <article>
            <h1 id="overview">Overview</h1>

<p>The HierarchicalDataSource component extends the <a href="/api/framework/datasource">DataSource component</a>, allowing
representation of hierarchical data. This help topic assumes that you are familiar with the
Kendo UI DataSource, and builds upon that knowledge with information that is specific to
hierarchical data.</p>

<h2 id="getting-started">Getting Started</h2>

<h3 id="creating-a-hierarchicaldatasource-bound-to-local-data">Creating a HierarchicalDataSource bound to local data</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var categorizedMovies = [ {
      categoryName: "SciFi",
      items: [
        { title: "Star Wars: A New Hope", year: 1977 },
        { title: "Star Wars: The Empire Strikes Back", year: 1980 },
        { title: "Star Wars: Return of the Jedi", year: 1983 }
      ]
  }, {
      categoryName: "Drama",
      items: [
        { title: "The Shawshenk Redemption", year: 1994 },
        { title: "Fight Club", year: 1999 },
        { title: "The Usual Suspects", year: 1995 }
      ]
  }
];

var localDataSource = new kendo.data.HierarchicalDataSource({ data: categorizedMovies });
</code></pre></div></div>

<h3 id="creating-a-hierarchicaldatasource-bound-to-a-homogeneous-remote-data-service">Creating a HierarchicalDataSource bound to a homogeneous remote data service</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var homogeneous = new kendo.data.HierarchicalDataSource({
    transport: {
        read: {
            url: "http://demos.telerik.com/kendo-ui/service/Employees",
            dataType: "json"
        }
    },
    schema: {
        model: {
            id: "EmployeeId",
            hasChildren: "HasEmployees"
        }
    }
});
</code></pre></div></div>

<p>The above snippet will target the HierarchicalDataSource to a single service end-point.
The data service is homogeneous, i.e. it always returns objects of the same type.
After executing <code class="language-plaintext highlighter-rouge">homogeneous.read()</code>, the service end-point is hit without a EmployeeId parameter:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET http://demos.telerik.com/kendo-ui/service/Employees

=&gt; [ { "EmployeeId": 2, "Name": "Andrew", "HasEmployees": true } ]
</code></pre></div></div>

<p>Reading the children of the returned item is achieved by calling the <a href="/api/framework/node#load"><code class="language-plaintext highlighter-rouge">load</code> method</a> of the data item:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var ceo = homogeneous.view()[0];

ceo.load();
</code></pre></div></div>

<p>This will hit the service end-point and will supply the id of the data item:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET http://demos.telerik.com/kendo-ui/service/Employees?EmployeeId=2

=&gt; [
      { "EmployeeId": 3, "Name": "Bob", "HasEmployees": false },
      { "EmployeeId": 4, "Name": "Charlie", "HasEmployees": false }
   ]
</code></pre></div></div>

<p>Now, the children can be accessed:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// ceo.children is a HierarchicalDataSource, too
var middleManagement = ceo.children.view();
</code></pre></div></div>

<h3 id="the-haschildren-property">The <code class="language-plaintext highlighter-rouge">hasChildren</code> property</h3>

<p>The <code class="language-plaintext highlighter-rouge">hasChildren</code> boolean property indicates whether a data item contains children that can be fetched from the server.
You can either hard-code it, map it to another property, or compute it with a function:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// hard-code that the item will always have children
hasChildren: true

// map the hasChildren property to the HasEmployees field, serialized from the server
hasChildren: "HasChildren"

// compute whether the given item will have children
hasChildren: function(item) {
    return item.HasEmployees &amp;&amp; item.RelatedDepartment;
}
</code></pre></div></div>

<h3 id="binding-a-hierarchicaldatasource-to-remote-data-with-multiple-service-end-points">Binding a HierarchicalDataSource to remote data with multiple service end-points</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// configuration of the products service end-point
var Products = {
        transport: {
            read: {
                url: "http://demos.telerik.com/kendo-ui/service/Products",
                dataType: "json"
            }
        },
        schema: {
            data: "products",
            model: {
                // products will never have children
                hasChildren: false
            }
        }
    };

// configuration of the categories service end-point
var Categories = new kendo.data.HierarchicalDataSource({
    transport: {
        read: {
            url: "http://demos.telerik.com/kendo-ui/service/Categories",
            dataType: "json"
        }
    },
    schema: {
        data: "categories",
        model: {
            id: "categoryId",

            // categories will always have children
            hasChildren: true,

            // children will be fetched from the Products end-point
            children: Products
        }
    }
});
</code></pre></div></div>

<p>The configuration above creates a two-level HierarchicalDataSource (categories and products) that
fetches data from two different end-points (/service/Categories and /service/Products, respectively).</p>

<h2 id="binding-ui-widgets-to-hierarchicaldatasource">Binding UI widgets to HierarchicalDataSource</h2>

<p>At this time, the only widget that is aware of the datasource hierarchy is the TreeView. However,
since the HierarchicalDataSource inherits the DataSource component, you can share the root level of
the hierarchy with any DataSource-enabled component.</p>

<h3 id="sharing-a-hierarchicaldatasource-between-a-treeview-and-a-grid">Sharing a HierarchicalDataSource between a TreeView and a Grid</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var Categories = new kendo.data.HierarchicalDataSource({
    transport: {
        read: {
            url: "http://demos.telerik.com/kendo-ui/service/Categories"
        }
    },
    schema: {
        model: {
            hasChildren: "Products",
            id: "CategoryID",
            children: {
                transport: {
                    read: {
                        url: "http://demos.telerik.com/kendo-ui/service/Products"
                    }
                },
                schema: {
                    model: {
                        id: "ProductID",
                        hasChildren: false
                    }
                }
            }
        }
    }
});

$("#treeview").kendoTreeView({
    dataSource: Categories,
    dataTextField: ["CategoryName", "ProductName"]
});

$("#grid").kendoGrid({
    dataSource: Categories,
    columns: [
        { field: "CategoryName", title: "Name" },
        { field: "Description" }
    ]
});
</code></pre></div></div>


        </article>
    </div>
</div>

<footer>
    <p>Copyright &copy; 2002-2014 Telerik Inc</p>
</footer>


    </body>
</html>

